<form class="form-horizontal" [formGroup]="formulario"
  (ngSubmit)="onSubmit()">

  <div class="form-group">

    <div class="col-sm-6" [ngClass]="applyError('nome')">
      <label class="control-label" for="nome">Nome</label>
      <input type="text" class="form-control" id="nome" placeholder="Nome"
        formControlName="nome">
      <app-campo-control-erro 
        [showError]="verifyInvalidTouch('nome')" 
        errorMessage="Nome é obrigatório">
      </app-campo-control-erro>
    </div>

    <div class="col-sm-6" [ngClass]="applyError('email')">
      <label class="control-label" for="email">Email</label>
      <input type="text" class="form-control" id="email" placeholder="nome@email.com"
        formControlName="email">
      <app-campo-control-erro 
        [showError]="verifyInvalidTouch('email')" 
        errorMessage="Email é obrigatório">
      </app-campo-control-erro>
      <app-campo-control-erro 
        [showError]="verifyInvalidEmail('email')" 
        errorMessage="Email inválido">
      </app-campo-control-erro>
    </div>

  </div>

  <div formGroupName="endereco">

    <div class="form-group">

      <div class="col-sm-3" [ngClass]="applyError('endereco.cep')" >
        <label class="control-label" for="cep">CEP</label>
        <input type="text" class="form-control" id="cep" placeholder="00000-000"
          formControlName="cep" (blur)="consultarCep()">
        <app-campo-control-erro 
          [showError]="verifyInvalidTouch('endereco.cep')" 
          errorMessage="CEP é obrigatório">
        </app-campo-control-erro>
      </div>

      <div class="col-sm-3" [ngClass]="applyError('endereco.numero')" >
        <label class="control-label" for="numero">Número</label>
        <input type="text" class="form-control" id="numero"
          formControlName="numero">
        <app-campo-control-erro 
          [showError]="verifyInvalidTouch('endereco.numero')" 
          errorMessage="Número é obrigatório">
        </app-campo-control-erro>
      </div>

      <div class="col-sm-6" [ngClass]="applyError('endereco.complemento')" >
        <label class="control-label" for="complemento">Complemento</label>
        <input type="text" class="form-control" id="complemento"
          formControlName="complemento">
      </div>

    </div>

    <div class="form-group">
      
      <div class="col-sm-12" [ngClass]="applyError('endereco.rua')" >
        <label class="control-label" for="rua">Rua</label>
        <input type="text" class="form-control" id="rua"
          formControlName="rua" readOnly>
      </div>

    </div>

    <div class="form-group">
        
      <div class="col-sm-5" [ngClass]="applyError('endereco.bairro')" >
        <label class="control-label" for="bairro">Bairro</label>
        <input type="text" class="form-control" id="bairro"
          formControlName="bairro" readOnly>
      </div>

      <div class="col-sm-4" [ngClass]="applyError('endereco.cidade')" >
        <label class="control-label" for="cidade">Cidade</label>
        <input type="text" class="form-control" id="cidade"
          formControlName="cidade" readOnly>
      </div>

      <div class="col-sm-3" [ngClass]="applyError('endereco.estado')" >
        <label class="control-label" for="estado">Estado</label>
        <input type="text" class="form-control" id="estado"
          formControlName="estado" readOnly>
      </div>

    </div>

  </div>

  <button type="submit" class="btn btn-primary">
    Submit
  </button>

  <button type="button" class="btn" (click)="resetForm()">
    Cancelar
  </button>

  <app-form-debug [form]="formulario"></app-form-debug>

</form>